<!DOCTYPE html>
<html>
<head>
    <title>Malware_Benign</title>
    <link rel="stylesheet" type="text/css" href="index.css">
</head>
<body>
<div class="container">
    <h1>Malware_Benign Detector</h1>
    <input type="file" id="fileInput" class="custom-file-input">
    <label for="fileInput" id="fileLabel">Select File</label>
    <input type="file" id="folder-input" webkitdirectory directory multiple class="custom-folder-input">
    <label for="folder-input" id="folder-label">Select Folder</label>
    <button id="submitButton" onclick="uploadFile()">Submit</button>
    <pre id="result"></pre>
    <output id="result1"></output>
</div>

    <script>
        const fileInput = document.getElementById("fileInput");
        const fileLabel = document.getElementById("fileLabel");

        fileInput.addEventListener("change", (event) => {
            const files = event.target.files;
            if (files.length > 0) {
                fileLabel.textContent = files[0].name;
            } else {
                fileLabel.textContent = "Select File";
            }
        });

        const folderInput = document.getElementById("folder-input");
        const folderLabel = document.getElementById("folder-label");

        folderInput.addEventListener("change", function(event) {
            if (event.target.files.length > 0) {
                folderLabel.textContent = event.target.files[0].webkitRelativePath;
            } else {
                folderLabel.textContent = "No folder selected";
            }
        });

        async function uploadFile() {
            const fileInput = document.getElementById('folder-input');
            const file = fileInput.files[0];
            
            if (file) {
                const formData = new FormData();
                formData.append('userFile', file);

                const response = await fetch('http://localhost:3000/upload', {
                    method: 'POST',
                    body: formData
                });

                const result = await response.text();
                document.getElementById('result').innerText = result;
            }
        }
    </script>
</body>
</html>